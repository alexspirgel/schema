<!DOCTYPE html>
<html>
	<head>
		<title>Schema</title>
		<script type="text/javascript" src="index.js"></script>
		<style>
			body {
				background: gray;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript">

			console.log('Starting tests...');

			/*
				validateType
			*/

			// Boolean
			Schema.validateType('boolean', true) ? true : console.warn('Fail');
			Schema.validateType('boolean', 1) ? console.warn('Fail') : true;
			Schema.validateType('boolean', 'a') ? console.warn('Fail') : true;
			Schema.validateType('boolean', () => {}) ? console.warn('Fail') : true;
			Schema.validateType('boolean', []) ? console.warn('Fail') : true;
			Schema.validateType('boolean', {}) ? console.warn('Fail') : true;
			Schema.validateType('boolean', null) ? console.warn('Fail') : true;
			Schema.validateType('boolean', undefined) ? console.warn('Fail') : true;
			// Number
			Schema.validateType('number', true) ? console.warn('Fail') : true;
			Schema.validateType('number', 1) ? true : console.warn('Fail');
			Schema.validateType('number', 'a') ? console.warn('Fail') : true;
			Schema.validateType('number', () => {}) ? console.warn('Fail') : true;
			Schema.validateType('number', []) ? console.warn('Fail') : true;
			Schema.validateType('number', {}) ? console.warn('Fail') : true;
			Schema.validateType('number', null) ? console.warn('Fail') : true;
			Schema.validateType('number', undefined) ? console.warn('Fail') : true;
			// String
			Schema.validateType('string', true) ? console.warn('Fail') : true;
			Schema.validateType('string', 1) ? console.warn('Fail') : true;
			Schema.validateType('string', 'a') ? true : console.warn('Fail');
			Schema.validateType('string', () => {}) ? console.warn('Fail') : true;
			Schema.validateType('string', []) ? console.warn('Fail') : true;
			Schema.validateType('string', {}) ? console.warn('Fail') : true;
			Schema.validateType('string', null) ? console.warn('Fail') : true;
			Schema.validateType('string', undefined) ? console.warn('Fail') : true;
			// Function
			Schema.validateType('function', true) ? console.warn('Fail') : true;
			Schema.validateType('function', 1) ? console.warn('Fail') : true;
			Schema.validateType('function', 'a') ? console.warn('Fail') : true;
			Schema.validateType('function', () => {}) ? true : console.warn('Fail');
			Schema.validateType('function', []) ? console.warn('Fail') : true;
			Schema.validateType('function', {}) ? console.warn('Fail') : true;
			Schema.validateType('function', null) ? console.warn('Fail') : true;
			Schema.validateType('function', undefined) ? console.warn('Fail') : true;
			// Object
			Schema.validateType('object', true) ? console.warn('Fail') : true;
			Schema.validateType('object', 1) ? console.warn('Fail') : true;
			Schema.validateType('object', 'a') ? console.warn('Fail') : true;
			Schema.validateType('object', () => {}) ? console.warn('Fail') : true;
			Schema.validateType('object', []) ? true : console.warn('Fail');
			Schema.validateType('object', {}) ? true : console.warn('Fail');
			Schema.validateType('object', null) ? console.warn('Fail') : true;
			Schema.validateType('object', undefined) ? console.warn('Fail') : true;

			// Unset
			Schema.validateType('unset', true) ? console.warn('Fail') : true;
			Schema.validateType('unset', 1) ? console.warn('Fail') : true;
			Schema.validateType('unset', 'a') ? console.warn('Fail') : true;
			Schema.validateType('unset', () => {}) ? console.warn('Fail') : true;
			Schema.validateType('unset', []) ? console.warn('Fail') : true;
			Schema.validateType('unset', {}) ? console.warn('Fail') : true;
			Schema.validateType('unset', null) ? true : console.warn('Fail');
			Schema.validateType('unset', undefined) ? true : console.warn('Fail');

			/*
				validateExact
			*/

			Schema.validateExact('123', '123') ? true : console.warn('Fail');
			Schema.validateExact('123', 123) ? console.warn('Fail') : true;
			Schema.validateExact(123, '123') ? console.warn('Fail') : true;
			Schema.validateExact(['123'], '123') ? true : console.warn('Fail');
			Schema.validateExact(['123', '456'], '123') ? true : console.warn('Fail');
			Schema.validateExact(['123', '456'], '456') ? true : console.warn('Fail');
			Schema.validateExact(['123', '456'], 123) ? console.warn('Fail') : true;
			Schema.validateExact(false, false) ? true : console.warn('Fail');

			/*
				validateInstanceOf
			*/

			Schema.validateInstanceOf(Array, []) ? true : console.warn('Fail');
			Schema.validateInstanceOf(Object, {}) ? true : console.warn('Fail');
			Schema.validateInstanceOf(Schema, new Schema({})) ? true : console.warn('Fail');
			
			/*
				validateCustom
			*/

			Schema.validateCustom({
				validator: () => {
					return true;
				},
				input: null
			}) ? true : console.warn('Fail');
			Schema.validateCustom({
				validator: () => {
					return false;
				},
				input: null
			}) ? console.warn('Fail') : true;
			Schema.validateCustom({
				validator: (value) => {
					return value === 2 ? true : false;
				},
				input: 2
			}) ? true : console.warn('Fail');
			Schema.validateCustom({
				validator: (value) => {
					return value === 2 ? true : false;
				},
				input: 3
			}) ? console.warn('Fail') : true;
			var customModel1 = {
				type: 'object',
				propertySchema: {
					width: [
						{
							type: 'number'
						},
						{
							type: 'unset',
							custom: {
								validator: (input, path, inputEntry) => {
									const validationResult = Schema.validate({
										model: {type: 'unset'},
										input: inputEntry.height
									});
									if (validationResult === true) {
										return false;
									}
									return true;
								},
								message: 'A width or height must be set.'
							}
						}
					],
					height: [
						{
							type: 'number'
						},
						{
							type: 'unset',
							custom: {
								validator: (input, path, inputEntry) => {
									const validationResult = Schema.validate({
										model: {type: 'unset'},
										input: inputEntry.width
									});
									if (validationResult === true) {
										return false
									}
									return true;
								},
								message: 'A width or height must be set.'
							}
						}
					]
				}
			}
			const customValidationResult1 = Schema.validate({
				model: customModel1,
				input: {
					width: 5
				}
			});
			if (customValidationResult1 !== true) {
				console.warn('Fail');
			}
			const customValidationResult2 = Schema.validate({
				model: customModel1,
				input: {
					height: 5
				}
			});
			if (customValidationResult2 !== true) {
				console.warn('Fail');
			}
			const customValidationResult3 = Schema.validate({
				model: customModel1,
				input: {
					width: 5,
					height: 5
				}
			});
			if (customValidationResult3 !== true) {
				console.warn('Fail');
			}
			const customValidationResult4 = Schema.validate({
				model: customModel1,
				input: {}
			});
			if (customValidationResult4 !== false) {
				console.warn('Fail');
			}

			/*
			*/

			// console.log(Schema.model);
			const test = new Schema({
				type: 'object',
				instanceOf: Array
			});
			// test.validate('stuff');

			console.log('All tests have finished. Failures will be displayed above. No warnings means all tests passed.');
		</script>
	</body>
</html>